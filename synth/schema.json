{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Maritime Telemetry Frame",
  "type": "object",
  "required": ["timestamp", "scenario_id", "vehicle_id", "drone_id", "detections"],
  "properties": {
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "scenario_id": {
      "type": "string",
      "enum": ["piracy_ambush", "swarm_interdiction", "ais_spoofing_scenario", "mine_detection", "uav_overwatch"]
    },
    "vehicle_id": {
      "type": "string"
    },
    "drone_id": {
      "type": "string"
    },
    "drone_pose": {
      "type": "object",
      "properties": {
        "lat": {"type": "number"},
        "lon": {"type": "number"},
        "altitude_m": {"type": "number"},
        "heading_deg": {"type": "number"}
      }
    },
    "convoy_pose": {
      "type": "object",
      "properties": {
        "lat": {"type": "number"},
        "lon": {"type": "number"},
        "heading_deg": {"type": "number"},
        "speed_knots": {"type": "number"}
      }
    },
    "weather": {
      "type": "object",
      "properties": {
        "sea_state": {"type": "integer", "minimum": 1, "maximum": 9},
        "visibility_km": {"type": "number"},
        "wind_speed_knots": {"type": "number"}
      }
    },
    "detections": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "detection_id": {"type": "string"},
          "object_type": {"type": "string"},
          "confidence": {"type": "number", "minimum": 0, "maximum": 1},
          "bbox": {"type": "array", "items": {"type": "number"}},
          "distance_m": {"type": "number"},
          "bearing_deg": {"type": "number"},
          "speed_knots": {"type": "number"}
        }
      }
    },
    "ground_truth_threat": {
      "type": "boolean"
    },
    "threat_type": {
      "type": "string",
      "enum": ["small_fast_craft", "suspicious_loitering_vessel", "unregistered_vessel", "ais_spoofing", "drone_overwater", "diver_or_swimmer", "floating_mine_like_object", "collision_risk", "acoustic_gunshot"]
    },
    "threat_severity": {
      "type": "string",
      "enum": ["none", "low", "medium", "high", "critical"]
    }
  }
}